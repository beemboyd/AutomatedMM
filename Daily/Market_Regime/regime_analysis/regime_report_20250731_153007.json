{
  "timestamp": "2025-07-31T15:30:07.768387",
  "market_regime": {
    "regime": "choppy_bullish",
    "description": "Choppy with Bullish Bias",
    "characteristics": [
      "Mixed signals with slight bullish edge",
      "Low confidence"
    ],
    "strategy": "Both directions viable, slight long preference",
    "confidence": 0.572,
    "confidence_level": "moderate",
    "original_confidence": null,
    "confidence_adjusted_reason": null,
    "confidence_note": "Reduced due to timeframe divergence"
  },
  "reversal_counts": {
    "long": 28,
    "short": 23,
    "total": 51
  },
  "smoothed_counts": {
    "long": 28.0,
    "short": 23.0,
    "total": 51.0,
    "smoothing_active": true
  },
  "trend_analysis": {
    "trend": "neutral_bullish",
    "ratio": 1.2173913043478262,
    "description": "Neutral with bullish bias",
    "market_score": 0.09803921568627455,
    "trend_score": 0.0980392156862746,
    "strength": 0.09803921568627455,
    "enhanced_market_score": 0.09803921568627458,
    "breadth_score": 0.09803921568627452,
    "weekly_bias": {
      "direction": "NEUTRAL",
      "strength": "Balanced",
      "allocation": 50,
      "rationale": "Mixed signals suggest balanced approach"
    },
    "enhanced_direction": "neutral"
  },
  "momentum_analysis": null,
  "breadth_indicators": {
    "advance_decline_ratio": 1.2173913043478262,
    "bullish_percent": 0.5490196078431373,
    "bearish_percent": 0.45098039215686275,
    "positive_momentum_percent": 0.5882352941176471,
    "strong_momentum_percent": 0.0784313725490196,
    "weak_momentum_percent": 0.058823529411764705,
    "momentum_ratio": 1.4285714285714286,
    "high_volume_percent": 0.45098039215686275,
    "high_score_percent": 0.0,
    "low_score_percent": 0.0
  },
  "breadth_consistency": {
    "is_consistent": true,
    "divergence_type": "none",
    "warnings": [],
    "recommendation": "proceed"
  },
  "volatility": {
    "volatility_score": 1.0,
    "avg_atr": 101.07,
    "median_atr": 22.25,
    "p75_atr": 58.05,
    "max_atr": 1126.07,
    "volatility_regime": "extreme"
  },
  "index_analysis": {
    "trend": "bearish",
    "strength": 0.6812223840491731,
    "indices_above_sma20": 0,
    "total_indices": 3,
    "avg_position": -1.6244476809834623,
    "weighted_position": -1.5695691893322024,
    "analysis": "0/3 indices above SMA20 - Bearish trend",
    "index_details": {
      "NIFTY 50": {
        "close": 24766.6,
        "sma20": 25119.5125,
        "above_sma20": false,
        "sma_position_pct": -1.4049337143784226,
        "timestamp": "2025-07-31T00:00:00+05:30"
      },
      "NIFTY MIDCAP 100": {
        "close": 12856.1,
        "sma20": 13178.175,
        "above_sma20": false,
        "sma_position_pct": -2.444003058086563,
        "timestamp": "2025-07-31T00:00:00+05:30"
      },
      "NIFTY SMLCAP 100": {
        "close": 28604.1,
        "sma20": 28900.155,
        "above_sma20": false,
        "sma_position_pct": -1.0244062704854016,
        "timestamp": "2025-07-31T00:00:00+05:30"
      }
    }
  },
  "position_recommendations": {
    "kelly_fraction": 0.0,
    "position_size_percent": 0.0,
    "win_probability": 0.589,
    "win_loss_ratio": 0.65,
    "expected_value": -0.029,
    "position_size_multiplier": 0.0,
    "max_positions": 0,
    "total_exposure_limit": 0.0,
    "stop_loss_percent": 6.0,
    "stop_loss_multiplier": 3.0,
    "risk_per_trade": 0.0,
    "preferred_direction": "long",
    "confidence_level": "moderate",
    "volatility_regime": "extreme",
    "kelly_components": {
      "raw_kelly": 0.0,
      "safety_factor": 0.25,
      "regime_limit": 0.15,
      "breadth_adjustment": 1.0
    },
    "specific_guidance": [
      "\ud83d\uded1 Negative Kelly - Avoid trading in current conditions",
      "\ud83d\udcca Moderate win probability (58.9%) - Standard position sizing",
      "\ud83d\udcb0 Poor risk/reward ratio (0.7:1) - Avoid",
      "\ud83d\udcc9 Negative expected value: -2.9% per trade"
    ]
  },
  "enhanced_strategy_recommendation": {
    "primary_strategy": "Both Strategies",
    "secondary_strategy": "Equal Weight",
    "position_sizing": 0.8,
    "risk_per_trade": 0.015,
    "special_note": "Extreme bullish breadth (99.5%) - Strong long bias",
    "available_signals": {
      "long": 28,
      "short": 23
    }
  },
  "prediction": null,
  "model_performance": {
    "performance": {
      "accuracy": 0.9090909090909091,
      "total_predictions": 55,
      "regime_accuracy": {
        "choppy_bearish": 1.0,
        "choppy_bullish": 0.0,
        "uptrend": 0.6,
        "strong_uptrend": 0.9787234042553191
      }
    },
    "important_features": [
      [
        "current_ratio",
        0.23247956622428362
      ],
      [
        "ma3_long",
        0.14391693013604168
      ],
      [
        "avg_ratio",
        0.12866952399864606
      ],
      [
        "ma3_short",
        0.12211519741594402
      ],
      [
        "momentum",
        0.06158021596998624
      ]
    ],
    "optimization_status": {
      "last_training": "2025-07-02T09:40:09.354983",
      "current_thresholds": {
        "strong_bullish": 2.0,
        "bullish": 1.5,
        "neutral_bullish": 1.2,
        "neutral_high": 1.2,
        "neutral_low": 0.8,
        "neutral_bearish": 0.8,
        "bearish": 0.67,
        "strong_bearish": 0.5
      }
    }
  },
  "historical_context": {
    "current_regime": "choppy_bullish",
    "regime_duration_hours": 5.8576191502777775,
    "stability_24h": 0.9849624060150376,
    "regime_distribution_7d": {
      "downtrend": 0.2897196261682243,
      "choppy_bullish": 0.4672897196261682,
      "strong_downtrend": 0.24299065420560748
    },
    "transition_probabilities": {
      "strong_downtrend": {
        "strong_uptrend": 0.2,
        "choppy_bullish": 0.8
      },
      "strong_uptrend": {
        "choppy_bullish": 0.5,
        "uptrend": 0.5
      },
      "choppy_bullish": {
        "uptrend": 0.18181818181818182,
        "strong_uptrend": 0.09090909090909091,
        "downtrend": 0.5454545454545454,
        "strong_downtrend": 0.18181818181818182
      },
      "uptrend": {
        "choppy_bullish": 0.6666666666666666,
        "downtrend": 0.3333333333333333
      },
      "downtrend": {
        "choppy_bullish": 0.7142857142857143,
        "strong_downtrend": 0.2857142857142857
      }
    },
    "total_tracked": 1267,
    "last_updated": "2025-07-31T15:25:05.529156"
  },
  "insights": [
    "High number of reversal patterns - Many potential opportunities",
    "Low confidence regime - Consider reduced position sizing",
    "\n\ud83d\udcc8 Index Analysis: 0/3 indices above SMA20",
    "  \u2022 NIFTY 50: -1.4% below SMA20",
    "  \u2022 NIFTY MIDCAP 100: -2.4% below SMA20",
    "  \u2022 NIFTY SMLCAP 100: -1.0% below SMA20",
    "\n\ud83e\udd16 Model Performance: 90.9% accuracy over 55 predictions"
  ],
  "scan_files": {
    "long": "/Users/maverick/PycharmProjects/India-TS/Daily/results/Long_Reversal_Daily_20250731_150959.xlsx",
    "short": "/Users/maverick/PycharmProjects/India-TS/Daily/results-s/Short_Reversal_Daily_20250731_150942.xlsx"
  },
  "multi_timeframe_analysis": {
    "timeframes": {
      "daily": {
        "long_count": 62,
        "short_count": 67,
        "ratio": 0.925,
        "regime": "choppy",
        "trend_strength": -0.075,
        "confidence": 1.0,
        "data_points": 2
      },
      "weekly": {
        "long_count": 87,
        "short_count": 72,
        "ratio": 1.208,
        "regime": "choppy_bullish",
        "trend_strength": 0.104,
        "confidence": 0.6,
        "data_points": 3
      },
      "biweekly": {
        "long_count": 193,
        "short_count": 228,
        "ratio": 0.846,
        "regime": "choppy",
        "trend_strength": -0.154,
        "confidence": 0.7,
        "data_points": 7
      },
      "monthly": {
        "long_count": 488,
        "short_count": 373,
        "ratio": 1.308,
        "regime": "choppy_bullish",
        "trend_strength": 0.154,
        "confidence": 0.65,
        "data_points": 13
      }
    },
    "combined_signals": {
      "combined_ratio": 1.018,
      "combined_strength": -0.021,
      "combined_regime": "choppy",
      "alignment_score": 0.45,
      "confidence": 0.777,
      "confidence_adjustment": 1.0
    },
    "divergences": [
      "Daily bearish but weekly bullish - potential reversal up"
    ],
    "recommendation": "No clear directional bias - focus on high-probability setups only"
  }
}